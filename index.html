<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Drum Cajon Analysis and Sound Synthesis by alexnieva</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Drum Cajon Analysis and Sound Synthesis</h1>
        <p>alexnieva.GitHub.io</p>
        <p class="view"><a href="https://github.com/alexnieva">View the Project on GitHub <small>alexnieva</small></a></p>
        <ul>
          <li class="single"><a href="https://github.com/alexnieva/alexnieva.github.io">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction.</h1>

<p>The cajon drum is a percussion instrument that was originated as a substitute to the African drums by the afro-peruvian community that were brought as slaves during the colonialism. This instrument also exists in Cuba and it is made of wood. Its shape is of a rectangle of about 480mm height, 300mm width, and 300mm depth. The front face and the back face are usually different. The front face is made of thinner wood - usually plywood - and the back face has a hole that acts as a sound projector. </p>

<p><img src="http://cdn.shopify.com/s/files/1/0266/7599/products/J021.ProCajon2_1024x1024.jpeg?v=1387413510" alt="Cajon Drum"></p>

<!--
<p><img src="http://i.istockimg.com/file_thumbview_approve/23282158/3/stock-photo-23282158-cajon-drummer.jpg" alt="Cajon Drum"></p>
-->

<p>It is also used in flamenco music and jazz with some variations such as snares on the back of the front plate or other metallic objects. Sounds are generated by hand-strumming the front face in different locations with different parts of the hand. </p>

<p><a href="https://www.youtube.com/watch?v=ixJjpdti9jY">Cajon Drum Sound</a></p>

<h1>
<a id="motivation-and-objectives" class="anchor" href="#motivation-and-objectives" aria-hidden="true"><span class="octicon octicon-link"></span></a>Motivation and Objectives.</h1>

<p>The main objective of this project is to synthesize the sounds generated by the cajon drum. Being an essential instrument in many rythms of the peruvian musical culture and also used in many other types of music. It's important to understand its physical behaviour and subtleties in regard to the different materials and designs.</p>

<h1>
<a id="sound-synthesis-approach" class="anchor" href="#sound-synthesis-approach" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sound Synthesis Approach.</h1>

<p>Based on the geometry of the cajon drum, the problem can be tackled from different methods. We can work with a lumped parameters model based on the acousto-mechanic propierties of the system [1]. This will allow us to generate an equivalent electrical circuit that can be discretized and solved in the digital domain using the Laplace transform and its mapping into the Z plane. Another approach would be to use a Digital Waveguide mesh in 2 and 3 dimensions defining a 2D mesh for the front plate, and a 3D mesh for the volume of air inside the drum [2,3]. In addition, we have to consider the boundary conditions depending on the stiffness and materials of the drum.</p>

<p>The technique chosen as a first atempt to synthesize the cajon drum sounds is based on modal analysis and coupled mode synthesis [4,5]. The geometry of the drum is basically that of a helmholtz resonator with a vibrating plate as the excitation of the system. The resonant frequency of a helmholtz resonator is given by the expression:</p>

<p><img src="images/freshelmholtz.png" alt="Resonance Frequency"></p>

<p>where v is the speed of sound, A is the area of the duct, Vo is the volume of the box and Leq is the equivalent length of the duct.</p>

<p>Also the frequency response measured in [1] for the transfer function is: </p>

<p><img src="images/freq_response.gif" alt="Frequency response"></p>


<p>And the sound pressure level at the hole in the back plate is:</p>

<p><img src="images/spl_cajon.gif" alt="Sound Pressure Level"></p>


<p>This information suggests that we can attempt to synthesize the sounds from the exponentially decaying sinusoids originated by the vibrating modes from the instrument. These can be modeled as a second order digital filter of the form: </p>

<p><img src="images/diffeq.gif" alt="Resonance Frequency"></p>

<p>In our case we are going to make use of three second order digital filters to match the vibrating modes of the plate and the resonant mode of the Helmholtz resonator. The values of the complex poles depend on the bandwidth B and resonant frequency of each of them. For the cajon drum, depending on its size and hole diameter, the first resonance frequency is around 90Hz. Also the first resonant mode of the front face is around 200 Hz depending on the size. These two modes are the most important in the generation of the most characteristic sound of the cajon drum which is when it is strummed in the center of the front plate. </p>

<p>The simulation was implemented in Matlab (code in the repository of this project) and the following audio files were generated:</p>

<p><img src="images/fresp_filters.png" alt="Resonances of filters"></p>

<p><a href="alexnieva.github.io/cajon1.wav">Synthesized sound with 1 resonance wav</a></p>

<p><a href="alexnieva.github.io/cajon2.wav">Synthesized sound with 3 resonances wav</a></p>

<p>Real sounds of the drum cajon can be listened here:</p>

<p><a href="alexnieva.github.io/CAJON_SAMPLE_BACK_UD2.wav">Cajon drum sound with snares wav</a></p>

<p><a href="alexnieva.github.io/CAJON_SAMPLE_REAL1.wav">Cajon drum sound wav</a></p>

<p>In order to obtain an excitation signal for our resonant filters, we made measurements of the damped (filled with absorptive material) drum .</p>

<h1>
<a id="discussion" class="anchor" href="#discussion" aria-hidden="true"><span class="octicon octicon-link"></span></a>Discussion</h1>

<p>The attempt to recreate the sounds generated by the drum sound was in part successful due to the simple geometry of the instrument. Nevertheless, there is still room to improve this sound synthesis engine and this study. There were difficulties such as obtaining accurate values for the poles of the digital filters. This was done based on the graphs presented in the references, but it is necessary perform measurements for each instrument to obtain the corresponding parameters because the change of size, shape, type of wood of the drum changes the resonance frequencies to an extent that makes the current model not accurate. </p>

<p>The matching of the resonant filters was done manually aproximating their bandwidths and calculating the resonant frequency of the cajon drum used in this project. </p>

<h1>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h1>

<p>[1] Llimpe, C., Moreno, J. "Estudio Preliminar Teorico-Experimental de las Caracteristicas Acusticas del Cajon Peruano". Presented in TecniAcustica 2000,  II Congreso Iberoamericano de Acústica, Madrid, Spain. October 2000.</p>

<p>[2] Van Duyne, S.; and J. Smith. “Physical Modeling with the 2-D Digital Waveguide Mesh,” Proc. ICMC, Tokyo. 1993.</p>

<p>[3] M. Karjalainen, V. Ikonen, A. Järvinen, P. Maijala, L. Savioja, A. Suutala, J. Backman, S. Pohjolainen: "Comparison of Numerical Simulation Models and Measured Low-Frequency Behavior of a Loudspeaker". In the 104th Audio Engineering Society (AES) Convention, preprint no. 4722 Amsterdam, the Netherlands. 1998.</p>

<p>[4] P. R. Cook. "Physically informed sonic modeling (phism): Synthesis of percussive sounds". Computer Music Journal, 21 (3): 38-49, 1997. </p>

<p>[5] Scott A. Van Duyne, "Coupled Mode Synthesis". Center for Computer Research in Music and Acoustics, Stanford University. <a href="https://ccrma.stanford.edu/files/papers/stanm101.pdf#page=42">Paper download</a></p>
      </section>
    </div>
    <footer>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
